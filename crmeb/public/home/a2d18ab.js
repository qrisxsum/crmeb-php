(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{454:function(e,t,r){e.exports=r.p+"img/refund.45a1288.png"},485:function(e,t,r){var content=r(580);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(3).default)("063c0e7c",content,!0,{sourceMap:!1})},579:function(e,t,r){"use strict";r(485)},580:function(e,t,r){var o=r(2)(!1);o.push([e.i,"[data-v-6a0b4a13].el-checkbox__inner{border-radius:50%}[data-v-6a0b4a13].el-checkbox__input.is-focus .el-checkbox__inner{border-color:#dcdfe6}[data-v-6a0b4a13].el-checkbox__input.is-checked .el-checkbox__inner{border-color:#e93323}.buttonSub[data-v-6a0b4a13]{margin-top:20px}.header[data-v-6a0b4a13]{height:60px;line-height:60px;color:#999}.header .home[data-v-6a0b4a13]{color:#282828}.cartNum .iconfont[data-v-6a0b4a13]{width:40px;height:36px;line-height:36px;border:1px solid #d3d3d3;text-align:center;color:#707070;background-color:#fff}.cartNum .iconfont.on[data-v-6a0b4a13]{color:#d3d3d3}.cartNum .numCon[data-v-6a0b4a13]{width:54px;height:36px;border:0;border-top:1px solid #d3d3d3;border-bottom:1px solid #d3d3d3;font-size:15px;color:#5a5a5a;text-align:center;line-height:36px;outline:none}.refund[data-v-6a0b4a13]{padding:40px 20px 46px;background:#fff}.refund .el-icon-plus[data-v-6a0b4a13]{margin-top:20px}.refund .table[data-v-6a0b4a13]{width:100%;border:1px solid #efefef;border-collapse:collapse}.refund .table thead[data-v-6a0b4a13]{background:#efefef}.refund .table thead .tableHead[data-v-6a0b4a13]{width:100%}.refund .table thead .td[data-v-6a0b4a13]{width:183px;height:40px;font-size:14px;text-align:left;color:#282828}.refund .table thead .td.checkboxs[data-v-6a0b4a13]{padding-left:21px;width:115px}.refund .table thead .td.pictrue[data-v-6a0b4a13]{width:auto;text-align:left;padding-left:35px}.refund .table tbody .tableHead[data-v-6a0b4a13]{width:100%}.refund .table tbody .td[data-v-6a0b4a13]{width:183px;font-size:14px;text-align:left;color:#282828;padding:20px 0}.refund .table tbody .td.checkboxs[data-v-6a0b4a13]{width:115px;padding-left:21px}.refund .table tbody .td.pictrue[data-v-6a0b4a13]{width:auto;text-align:left;padding-left:35px}.refund .table tbody .td.pictrue span[data-v-6a0b4a13]{margin-left:10px;font-size:12px;color:#b1b1b1}.refund .table img[data-v-6a0b4a13]{float:left;width:70px;height:70px;border:1px solid #eee;border-radius:5px}.refund .table img+div[data-v-6a0b4a13]{margin-left:20px}.refund .table .name[data-v-6a0b4a13]{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;margin-bottom:13px;overflow:hidden;width:345px}.refund .el-form[data-v-6a0b4a13]{margin-top:20px}.refund .el-form .cont[data-v-6a0b4a13]{padding-right:25px;padding-left:25px;border:1px solid #efefef}.refund .el-form .cont .el-form-item[data-v-6a0b4a13]{padding-top:25px}.refund .el-form .cont .el-form-item~.el-form-item[data-v-6a0b4a13]{border-top:1px solid #efefef}.refund .el-form>.el-form-item[data-v-6a0b4a13]{margin-top:25px;margin-bottom:0;text-align:right}.refund .el-form .el-textarea[data-v-6a0b4a13]{width:820px}.refund .el-form[data-v-6a0b4a13].el-textarea__inner{border:none;background:#f7f7f7}.refund .el-form[data-v-6a0b4a13].el-upload--picture-card{width:70px;height:70px;border-style:solid;line-height:68px}.refund .el-form[data-v-6a0b4a13].el-upload-list--picture-card .el-upload-list__item{width:70px;height:70px}.refund-box[data-v-6a0b4a13]{display:flex;flex-direction:column;align-items:center}.refund-box .title[data-v-6a0b4a13]{color:#e93323;font-size:20px;margin-top:20px}.refund-box span[data-v-6a0b4a13]{margin:10px 0 40px;color:#939393;font-size:14px}.refund-box button[data-v-6a0b4a13]{width:150px}.img-box-wrapper[data-v-6a0b4a13]{display:flex;flex-wrap:wrap}.img-box-wrapper .img-item[data-v-6a0b4a13]{position:relative;width:70px;height:70px;margin-right:20px;margin-bottom:12px;border:1px solid #c0ccda;border-radius:6px}.img-box-wrapper .img-item img[data-v-6a0b4a13]{width:100%;height:100%;border-radius:6px}.img-box-wrapper .img-item .icon[data-v-6a0b4a13]{position:absolute;right:-10px;top:-8px;font-size:20px;cursor:pointer;color:#e93323}",""]),e.exports=o},649:function(e,t,r){"use strict";r.r(t);r(23),r(237),r(7);var o=r(111),n=r.n(o),d=r(12),l=r(4),c=(r(34),r(35),r(10),r(36),r(22),r(48)),f={auth:"guest",data:function(){return{orderData:{},expressList:[],form:{refund_express_name:"",refund_express:"",refund_explain:"",refund_phone:"",refund_img:"",id:""},id:"",upLoadUrl:c.a.apiBaseURL+"/upload/image",myHeaders:{},pics:[],isDialog:!1}},asyncData:function(e){return Object(l.a)(regeneratorRuntime.mark(function t(){var r,o,n,l,data;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,o=e.query,t.next=1,Promise.all([r.$axios.get("/order/refund/detail/".concat(o.orderId))]);case 1:return n=t.sent,l=Object(d.a)(n,1),data=l[0],t.abrupt("return",{orderData:data.data,expressList:data.data.express_list,id:data.data.id});case 2:case"end":return t.stop()}},t)}))()},fetch:function(e){var t=e.store;t.commit("isHeader",!0),t.commit("isFooter",!0)},head:function(){return{title:"申请退货-"+this.$store.state.titleCon}},created:function(){var e=this.$cookies.get("auth.strategy");this.myHeaders={Authorization:this.$cookies.get("auth._token.".concat(e))}},methods:{handleClose:function(){this.isDialog=!1},subBtn:function(){return this.isDialog=!1,this.$router.replace({path:"/user/orderList",query:{page_type:1}})},onSubmit:function(){var e=this,t=this;if(""!==t.form.refund_express_name&&""!==t.form.refund_express){if(""===t.form.refund_phone)return n.a.error("请输入手机号");if(!/^1(3|4|5|7|8|9|6)\d{9}$/i.test(t.form.refund_phone))return n.a.error("请输入正确的手机号码");t.form.id=t.id,t.form.refund_img=t.pics.join(","),t.$axios.post("/order/refund/express",this.form).then(function(t){e.isDialog=!0}).catch(function(e){return n.a.error(e)})}},handleExceed:function(){this.$message.warning("最多上传3张图片")},handleSuccess:function(e){200===e.status?this.pics.push(e.data.url):400===e.status&&this.$message.error(e.msg)},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;return t||this.$message.error("上传图片只能是 JPG、PNG 格式!"),t},handleRemove:function(e,t){var r=this;this.pics=[],t.forEach(function(e){r.pics.push(e.response.data.url)})}}},m=(r(579),r(16)),component=Object(m.a)(f,function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"header wrapper_1200"},[t("span",{staticClass:"home"},[t("nuxt-link",{attrs:{to:"/"}},[e._v("首页 >")]),e._v("\n       订单详情 >\n    ")],1),e._v("\n     申请退货\n  ")]),e._v(" "),t("div",{staticClass:"refund wrapper_1200"},[t("table",{staticClass:"table"},[e._m(0),e._v(" "),t("tbody",e._l(e.orderData.cart_info,function(r,o){return t("tr",{key:o},[t("td",{staticClass:"td pictrue"},[t("table",{attrs:{border:"0"}},[t("tr",[t("td",{staticClass:"acea-row row-center-wrapper"},[t("img",{attrs:{src:r.productInfo.attrInfo?r.productInfo.attrInfo.image:r.productInfo.image}}),e._v(" "),t("div",[t("div",{staticClass:"name"},[e._v("\n                       "+e._s(r.productInfo.store_name)+"\n                      "),r.productInfo.attrInfo?[e._v("\n                         "+e._s(r.productInfo.attrInfo.suk)+"\n                      ")]:e._e()],2)])])])])]),e._v(" "),t("td",{staticClass:"td"},[e._v(e._s(r.truePrice))]),e._v(" "),t("td",{staticClass:"td"},[e._v(e._s(r.cart_num))])])}),0)]),e._v(" "),t("client-only",[t("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[t("div",{staticClass:"cont"},[t("el-form-item",{attrs:{label:"物流公司"}},[t("el-select",{attrs:{filterable:"",placeholder:"请选择物流公司"},model:{value:e.form.refund_express_name,callback:function(t){e.$set(e.form,"refund_express_name",t)},expression:"form.refund_express_name"}},e._l(e.expressList,function(e,r){return t("el-option",{key:r,attrs:{label:e.name,value:e.name}})}),1)],1),e._v(" "),t("el-form-item",{attrs:{label:"物流单号"}},[t("el-input",{staticStyle:{width:"219px"},attrs:{type:"text",placeholder:"请填写物流单号"},model:{value:e.form.refund_express,callback:function(t){e.$set(e.form,"refund_express",t)},expression:"form.refund_express"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"联系电话"}},[t("el-input",{staticStyle:{width:"219px"},attrs:{type:"text",placeholder:"请填写联系电话"},model:{value:e.form.refund_phone,callback:function(t){e.$set(e.form,"refund_phone",t)},expression:"form.refund_phone"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"备注说明"}},[t("el-input",{attrs:{type:"textarea",placeholder:"填写备注信息，100字以内",autosize:{minRows:4},maxlength:"100"},model:{value:e.form.refund_explain,callback:function(t){e.$set(e.form,"refund_explain",t)},expression:"form.refund_explain"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"上传凭证"}},[t("div",{staticClass:"img-box-wrapper"},[t("el-upload",{attrs:{"list-type":"picture-card",action:e.upLoadUrl,headers:e.myHeaders,limit:3,"on-remove":e.handleRemove,"on-success":e.handleSuccess,"on-exceed":e.handleExceed,"before-upload":e.beforeUpload}},[t("i",{staticClass:"el-icon-plus"})])],1),e._v(" "),t("p",{staticStyle:{color:"#999"}},[e._v("最多上传3张图片")])])],1),e._v(" "),t("div",{staticClass:"buttonSub acea-row row-between-wrapper"},[t("div"),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("申请退货")])],1)])],1)],1),e._v(" "),t("client-only",[t("el-dialog",{attrs:{modal:!0,visible:e.isDialog,width:"370px","show-close":!1},on:{"update:visible":function(t){e.isDialog=t}}},[t("div",{staticClass:"refund-box"},[t("img",{attrs:{src:r(454),alt:""}}),e._v(" "),t("p",{staticClass:"title"},[e._v("退货申请提交成功")]),e._v(" "),t("span",[e._v("我们会继续为您提供更优质的商品及服务")]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.subBtn}},[e._v("确认")])],1)])],1)],1)},[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("td",{staticClass:"td pictrue"},[e._v("商品信息")]),e._v(" "),t("td",{staticClass:"td"},[e._v("商品价格")]),e._v(" "),t("td",{staticClass:"td"},[e._v("返回件数")])])])}],!1,null,"6a0b4a13",null);t.default=component.exports}}]);