(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-goods-goods_search-index"],{"242c":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("26cb"),o=i("8a63"),s=a(i("4798")),r={computed:(0,n.mapGetters)(["uid"]),props:{hostProduct:{type:Array,default:function(){return[]}}},mixins:[s.default],data:function(){return{}},methods:{goDetail:function(t){(0,o.goShopDetail)(t,this.uid).then((function(e){uni.navigateTo({url:"/pages/goods_details/index?id=".concat(t.id)})}))}}};e.default=r},4830:function(t,e,i){"use strict";var a=i("ef3d"),n=i.n(a);n.a},5773:function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"wrapper",style:t.colorStyle},[i("v-uni-scroll-view",{staticClass:"scroll-Y",attrs:{"scroll-top":t.scrollTop,"scroll-y":"true"},on:{scroll:function(e){arguments[0]=e=t.$handleEvent(e),t.scroll.apply(void 0,arguments)},scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.scrollLower.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"searchGood"},[i("v-uni-view",{staticClass:"search acea-row row-between-wrapper"},[i("v-uni-view",{staticClass:"input acea-row row-between-wrapper"},[i("v-uni-text",{staticClass:"iconfont icon-sousuo"}),i("v-uni-input",{attrs:{type:"text",focus:!0,placeholder:t.$t("搜索商品名称"),"placeholder-class":"placeholder"},on:{confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.inputConfirm.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.setValue.apply(void 0,arguments)}},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),i("v-uni-view",{staticClass:"bnt",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchBut.apply(void 0,arguments)}}},[t._v(t._s(t.$t("搜索")))])],1),t.history.length?[i("v-uni-view",{staticClass:"title acea-row row-between-wrapper"},[i("v-uni-view",[t._v(t._s(t.$t("搜索历史")))]),i("v-uni-view",{staticClass:"iconfont icon-shanchu",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"list acea-row"},[t._l(t.history,(function(e,a){return[e.keyword?i("v-uni-view",{key:a+"_0",staticClass:"item history-item line1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setHotSearchValue(e.keyword)}}},[t._v(t._s(e.keyword))]):t._e()]}))],2)]:t._e(),i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.$t("热门搜索")))]),i("v-uni-view",{staticClass:"list acea-row"},[t._l(t.hotSearchList,(function(e,a){return[e.val?i("v-uni-view",{key:a+"_0",staticClass:"item line1",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.setHotSearchValue(e.val)}}},[t._v(t._s(e.val))]):t._e()]}))],2),t.bastList.length?i("v-uni-view",{staticClass:"line"}):t._e(),t.bastList.length>0?i("goodList",{attrs:{bastList:t.bastList}}):t._e(),t.bastList.length>0?i("v-uni-view",{staticClass:"loadingicon acea-row row-center-wrapper"},[i("v-uni-text",{staticClass:"loading iconfont icon-jiazai",attrs:{hidden:0==t.loading}}),t._v(t._s(t.loadTitle))],1):t._e()],2),i("v-uni-view",{staticClass:"noCommodity"},[0==t.bastList.length?i("v-uni-view",{staticClass:"pictrue"},[i("v-uni-image",{attrs:{src:t.imgHost+"/statics/images/noSearch.png"}})],1):t._e(),0==t.bastList.length&&t.page>1?i("recommend",{attrs:{hostProduct:t.hostProduct}}):t._e()],1)],1),i("home"),t.scrollTopShow?i("v-uni-view",{staticClass:"back-top",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goTop.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"iconfont icon-xiangshang"})],1):t._e()],1)},o=[]},"723e":function(t,e,i){"use strict";i.r(e);var a=i("242c"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"7a67":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.recommend[data-v-7c3986ba]{background-color:#fff}.recommend .title[data-v-7c3986ba]{height:%?135?%;font-size:%?28?%;color:#282828}.recommend .title .name[data-v-7c3986ba]{margin:0 %?28?%}.recommend .title .iconfont[data-v-7c3986ba]{font-size:%?170?%;color:#454545}.recommend .title .iconfont.lefticon[data-v-7c3986ba]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.recommend .recommendList[data-v-7c3986ba]{padding:0 %?30?%}.recommend .recommendList .item[data-v-7c3986ba]{width:%?335?%;margin-bottom:%?30?%;border-radius:%?20?% %?20?% 0 0;box-shadow:%?0?% %?3?% %?10?% %?2?% rgba(0,0,0,.03);padding-bottom:%?10?%}.recommend .recommendList .item .pictrue[data-v-7c3986ba]{position:relative;width:100%;height:%?335?%}.recommend .recommendList .item .pictrue[data-v-7c3986ba] ,\r\n.recommend .recommendList .item .pictrue[data-v-7c3986ba] uni-image,\r\n.recommend .recommendList .item .pictrue[data-v-7c3986ba] .easy-loadimage,\r\n.recommend .recommendList .item .pictrue[data-v-7c3986ba] uni-image{width:100%;height:%?335?%;border-radius:%?20?%}.recommend .recommendList .item .name[data-v-7c3986ba]{font-size:%?28?%;color:#282828;margin-top:%?20?%;padding:0 %?10?%;line-height:%?34?%;height:%?68?%}.recommend .recommendList .item .money[data-v-7c3986ba]{font-size:%?20?%;margin-top:%?8?%;padding:0 %?10?% %?0?% %?10?%}.recommend .vip-money[data-v-7c3986ba]{font-size:%?24?%;color:#282828;font-weight:700;display:flex;align-items:center;padding:%?0?% 0 0 %?10?%}.recommend .vip-money uni-image[data-v-7c3986ba]{width:%?46?%;height:%?21?%;margin-left:%?4?%}.recommend .recommendList .item .money .num[data-v-7c3986ba]{font-size:%?28?%}',""]),t.exports=e},"8ee5":function(t,e,i){var a=i("7a67");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("86d8b728",a,!0,{sourceMap:!1,shadowMode:!1})},"942a":function(t,e,i){"use strict";i.r(e);var a=i("b302"),n=i("723e");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("e90f");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"7c3986ba",null,!1,a["a"],s);e["default"]=c.exports},b1a3:function(t,e,i){"use strict";i.r(e);var a=i("5773"),n=i("f803");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("4830");var s,r=i("f0c5"),c=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"1f94fe02",null,!1,a["a"],s);e["default"]=c.exports},b302:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={easyLoadimage:i("9c99").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"recommend",style:t.colorStyle},[i("v-uni-view",{staticClass:"title acea-row row-center-wrapper"},[i("v-uni-text",{staticClass:"iconfont icon-zhuangshixian"}),i("v-uni-text",{staticClass:"name"},[t._v(t._s(t.$t("热门推荐")))]),i("v-uni-text",{staticClass:"iconfont icon-zhuangshixian lefticon"})],1),i("v-uni-view",{staticClass:"recommendList acea-row row-between-wrapper"},t._l(t.hostProduct,(function(e,a){return i("v-uni-view",{key:a,staticClass:"item",attrs:{"hover-class":"none"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e)}}},[i("v-uni-view",{staticClass:"pictrue"},[i("easy-loadimage",{attrs:{mode:"widthFix","image-src":e.image}}),e.activity&&"1"===e.activity.type&&t.$permission("seckill")?i("span",{staticClass:"pictrue_log_big pictrue_log_class"},[t._v(t._s(t.$t("秒杀")))]):t._e(),e.activity&&"2"===e.activity.type&&t.$permission("bargain")?i("span",{staticClass:"pictrue_log_big pictrue_log_class"},[t._v(t._s(t.$t("砍价")))]):t._e(),e.activity&&"3"===e.activity.type&&t.$permission("combination")?i("span",{staticClass:"pictrue_log_big pictrue_log_class"},[t._v(t._s(t.$t("拼团")))]):t._e()],1),i("v-uni-view",{staticClass:"name line2"},[t._v(t._s(e.store_name))]),i("v-uni-view",{staticClass:"money font-color"},[t._v(t._s(t.$t("￥"))),i("v-uni-text",{staticClass:"num"},[t._v(t._s(e.price))])],1)],1)})),1)],1)},o=[]},c56f:function(t,e,i){"use strict";var a=i("4ea4");i("99af"),i("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("6a91"),o=i("59f2"),s=a(i("5978")),r=a(i("942a")),c=a(i("f6e5")),l=a(i("4798")),d=i("0dd8"),u={components:{goodList:s.default,recommend:r.default,home:c.default},mixins:[l.default],data:function(){return{imgHost:d.HTTP_REQUEST_URL,hostProduct:[],searchValue:"",focus:!0,bastList:[],hotSearchList:[],first:0,limit:8,page:1,loading:!1,loadend:!1,loadTitle:this.$t("加载更多"),hotPage:1,isScroll:!0,history:[],scrollTop:0,old:{scrollTop:0},scrollTopShow:!1}},onShow:function(){this.getHostProduct(),this.searchList();try{this.hotSearchList=uni.getStorageSync("hotList")}catch(t){}},onPageScroll:function(t){uni.$emit("scroll")},methods:{scrollLower:function(){this.bastList.length>0?this.getProductList():this.getHostProduct()},scroll:function(t){this.scrollTopShow=t.detail.scrollTop>150,this.old.scrollTop=t.detail.scrollTop},goTop:function(t){var e=this;this.scrollTop=this.old.scrollTop,this.$nextTick((function(){e.scrollTop=0}))},searchList:function(){var t=this;(0,o.searchList)({page:1,limit:10}).then((function(e){t.history=e.data}))},clear:function(){var t=this;(0,o.clearSearch)().then((function(e){uni.showToast({title:e.msg,success:function(){t.history=[]}})}))},inputConfirm:function(t){t.detail.value&&(uni.hideKeyboard(),this.setHotSearchValue(t.detail.value))},getRoutineHotSearch:function(){var t=this;(0,n.getSearchKeyword)().then((function(e){t.$set(t,"hotSearchList",e.data)}))},getProductList:function(){var t=this;t.loadend||t.loading||(t.loading=!0,t.loadTitle="",(0,n.getProductslist)({keyword:t.searchValue.trim(),page:t.page,limit:t.limit}).then((function(e){var i=e.data,a=i.length<t.limit;t.bastList=t.$util.SplitArray(i,t.bastList),t.$set(t,"bastList",t.bastList),t.loading=!1,t.loadend=a,t.loadTitle=a?t.$t("没有更多内容啦~"):t.$t("加载更多"),t.page=t.page+1})).catch((function(e){t.loading=!1,t.loadTitle=t.$t("加载更多")})))},getHostProduct:function(){var t=this;this.isScroll&&(0,n.getProductHot)(t.hotPage,t.limit).then((function(e){t.isScroll=e.data.length>=t.limit,t.hostProduct=t.hostProduct.concat(e.data),t.hotPage+=1}))},setHotSearchValue:function(t){this.$set(this,"searchValue",t),this.page=1,this.loadend=!1,this.$set(this,"bastList",[]),this.getProductList()},setValue:function(t){this.$set(this,"searchValue",t.detail.value)},searchBut:function(){var t=this;if(!t.searchValue.trim())return this.$util.Tips({title:t.$t("请输入要搜索的商品")});t.focus=!1,t.page=1,t.loadend=!1,t.$set(t,"bastList",[]),uni.showLoading({title:t.$t("正在搜索中")}),t.getProductList(),uni.hideLoading()}}};e.default=u},d6ba:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* crmeb颜色变量 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-1f94fe02]{background-color:#fff!important}.scroll-Y[data-v-1f94fe02]{height:100vh}.wrapper[data-v-1f94fe02]{position:relative;max-height:100vh;overflow:hidden}.wrapper .back-top[data-v-1f94fe02]{position:absolute;right:%?40?%;bottom:%?60?%;width:%?60?%;height:%?60?%;border-radius:50%;display:flex;justify-content:center;align-items:center;border:%?1?% solid #ccc;background-color:#fff}.wrapper .back-top .icon-xiangshang[data-v-1f94fe02]{color:#ccc;font-weight:700}.noCommodity[data-v-1f94fe02]{border-top-width:0}.searchGood .search[data-v-1f94fe02]{padding-left:%?30?%}.searchGood .search[data-v-1f94fe02]{padding-top:%?20?%}.searchGood .search .input[data-v-1f94fe02]{width:%?598?%;background-color:#f7f7f7;border-radius:%?33?%;padding:0 %?35?%;box-sizing:border-box;height:%?66?%}.searchGood .search .input uni-input[data-v-1f94fe02]{width:%?472?%;font-size:%?28?%}.searchGood .search .input .placeholder[data-v-1f94fe02]{color:#999}.searchGood .search .input .iconfont[data-v-1f94fe02]{color:#555;font-size:%?35?%}.searchGood .search .bnt[data-v-1f94fe02]{width:%?120?%;text-align:center;height:%?66?%;line-height:%?66?%;font-size:%?30?%;color:#282828}.searchGood .title[data-v-1f94fe02]{font-size:%?28?%;color:#999;margin:%?50?% %?30?% %?25?% %?30?%}.searchGood .title .iconfont[data-v-1f94fe02]{font-size:%?28?%}.searchGood .list[data-v-1f94fe02]{padding-left:%?10?%}.searchGood .list .item[data-v-1f94fe02]{font-size:%?26?%;color:#454545;padding:0 %?21?%;height:%?60?%;border-radius:%?3?%;line-height:%?60?%;border:%?1?% solid #aaa;margin:0 0 %?20?% %?20?%}.searchGood .list .item.history-item[data-v-1f94fe02]{height:%?50?%;border:none;border-radius:%?25?%;background-color:#f7f7f7;line-height:%?50?%}.searchGood .line[data-v-1f94fe02]{border-bottom:%?1?% solid #eee;margin:%?20?% %?30?% 0 %?30?%}body.?%PAGE?%[data-v-1f94fe02]{background-color:#fff!important}',""]),t.exports=e},e90f:function(t,e,i){"use strict";var a=i("8ee5"),n=i.n(a);n.a},ef3d:function(t,e,i){var a=i("d6ba");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("b3e2f79a",a,!0,{sourceMap:!1,shadowMode:!1})},f803:function(t,e,i){"use strict";i.r(e);var a=i("c56f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a}}]);